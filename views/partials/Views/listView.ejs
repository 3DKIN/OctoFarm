<% sortedIndex.forEach(sorted => { %> <% if(printers[sorted.actualIndex].state
=== "Offline" && clientSettings[0].listView.hideOff){%>
<tr
  class="<%= printers[sorted.actualIndex].stateColour.category %> hidden"
  id="listRow-<%= printers[sorted.actualIndex].index %>"
>
  <%}else if(printers[sorted.actualIndex].state === "Closed" &&
  clientSettings[0].listView.hideClosed){%>
</tr>

<tr
  class="<%= printers[sorted.actualIndex].stateColour.category %> hidden"
  id="listRow-<%= printers[sorted.actualIndex].index %>"
>
  <%}else{%>
</tr>

<tr
  class="<%= printers[sorted.actualIndex].stateColour.category %>"
  id="listRow-<%= printers[sorted.actualIndex].index %>"
>
  <%}%>
  <th id="listIndex-<%= printers[sorted.actualIndex].index %>" scope="row">
    <%= printers[sorted.actualIndex].index%>
  </th>
  <td id="listName-<%= printers[sorted.actualIndex].index %>">
    <% if(typeof printers[sorted.actualIndex].settingsApperance != 'undefined'){
    %> <%= printers[sorted.actualIndex].settingsApperance.name %><%}%>
  </td>
  <td>
    <% if(printers[sorted.actualIndex].state === "Offline"){ %>
    <button
      id="printerButton-<%= printers[sorted.actualIndex].index %>"
      type="button"
      class="btn btn-dark"
      data-toggle="modal"
      data-target="#printerManagerModal"
      disabled
    >
      <i class="fas fa-cog"></i>
    </button>
    <% }else{ %>
    <button
      id="printerButton-<%= printers[sorted.actualIndex].index %>"
      type="button"
      class="btn btn-dark"
      data-toggle="modal"
      data-target="#printerManagerModal"
    >
      <i class="fas fa-cog"></i>
    </button>
    <% } %>
  </td>
  <td>
    <button
      id="listPlay-<%= printers[sorted.actualIndex].index %>"
      type="button"
      class="btn btn-success"
      disabled
    >
      <i class="fas fa-play"></i>
    </button>
    <button
      id="listCancel-<%= printers[sorted.actualIndex].index %>"
      type="button"
      class="btn btn-danger"
      disabled
    >
      <i class="fas fa-square"></i>
    </button>
  </td>
  <td
    id="listFile-<%= printers[sorted.actualIndex].index %>"
    class="text-truncate"
  >
    <i class="fas fa-file-code"></i> <% if(typeof
    printers[sorted.actualIndex].job != 'undefined' &&
    printers[sorted.actualIndex].job.file.display != null){ %> <%=
    printers[sorted.actualIndex].job.file.display %><%}else{ %> No File Selected
    <% }%>
  </td>
  <td id="listFilament-<%= printers[sorted.actualIndex].index %>">
    <% if(typeof printers[sorted.actualIndex].selectedFilament != 'undefined' &&
    printers[sorted.actualIndex].selectedFilament.name != null){%> <%=
    printers[sorted.actualIndex].selectedFilament.name %> [<%=
    printers[sorted.actualIndex].selectedFilament.colour %> / <%=
    printers[sorted.actualIndex].selectedFilament.type[1] %>] <% }%>
  </td>
  <td id="listState-<%= printers[sorted.actualIndex].index %>">
    <%= printers[sorted.actualIndex].state %>
  </td>
  <td id="listPrintTime-<%= printers[sorted.actualIndex].index %>">
    <% if(typeof printers[sorted.actualIndex].progress != 'undefined'){ %> <%=
    helpers.generateTime(printers[sorted.actualIndex].progress.printTimeLeft) %>
    <%}%>
  </td>
  <td id="listE0Temp-<%= printers[sorted.actualIndex].index %>">
    <% if(typeof printers[sorted.actualIndex].temps != 'undefined'){ %> <%
    if(typeof printers[sorted.actualIndex].temps[0].tool0 != 'undefined'){ %>
    <i
      id="tool0A-<%= printers[sorted.actualIndex].index %>"
      class="far fa-circle"
    ></i>
    <%= printers[sorted.actualIndex].temps[0].tool0.actual %><%}else{ %>
    <i
      id="tool0A-<%= printers[sorted.actualIndex].index %>"
      class="far fa-circle"
    ></i>
    <%= 0%><%}%>째C <% if(typeof printers[sorted.actualIndex].temps[0].tool0 !=
    'undefined'){ %>
    <i
      id="tool0T-<%= printers[sorted.actualIndex].index %>"
      class="fas fa-bullseye"
    ></i>
    <%= printers[sorted.actualIndex].temps[0].tool0.target%><%}else{ %>
    <i
      id="tool0T-<%= printers[sorted.actualIndex].index %>"
      class="fas fa-bullseye"
    ></i>
    <%= 0%><%}%>째C <%} %>
  </td>
  <td id="listBedTemp-<%= printers[sorted.actualIndex].index %>">
    <% if(typeof printers[sorted.actualIndex].temps != 'undefined'){ %> <%
    if(typeof printers[sorted.actualIndex].temps[0].bed != 'undefined'){ %><i
      id="bedA-<%= printers[sorted.actualIndex].index %>"
      class="far fa-circle"
    ></i>
    <%= printers[sorted.actualIndex].temps[0].bed.actual %><%}else{ %>
    <i
      id="bedA-<%= printers[sorted.actualIndex].index %>"
      class="far fa-circle"
    ></i>
    <%= 0%><%}%>째C <% if(typeof printers[sorted.actualIndex].temps[0].bed !=
    'undefined'){ %>
    <i
      id="bedT-<%= printers[sorted.actualIndex].index %>"
      class="fas fa-bullseye"
    ></i>
    <%= printers[sorted.actualIndex].temps[0].bed.target %><%}else{ %>
    <i
      id="bedT-<%= printers[sorted.actualIndex].index %>"
      class="fas fa-bullseye"
    ></i>
    <%= 0%><%}%>째C <%} %>
  </td>
</tr>
<% }) %>
<script src="/js/listViewRunner.js" type="module"></script>
